# API service environment (copy to .env for local dev)

NODE_ENV=development
TZ=Asia/Qatar
PORT=4000

# Auth
AUTH_PROVIDER=local
JWT_SECRET=replace-with-strong-secret
WEB_ORIGIN=http://localhost:8080
AUTH_SUCCESS_REDIRECT=http://localhost:8080/auth/callback

# Database (Prisma)
DATABASE_URL=postgresql://bidops:bidops@localhost:5432/bidops?schema=public

# Search
OPENSEARCH_HOST=http://localhost:9200

# Mail (dev via Mailhog)
SMTP_HOST=localhost
SMTP_PORT=1025
SMTP_FROM=bidops@example.com

# Storage Provider: local | azure
# - local: Uses local filesystem (no Azurite needed)
# - azure: Uses Azure Blob Storage (or Azurite for dev)
STORAGE_PROVIDER=local

# Local storage settings (when STORAGE_PROVIDER=local)
LOCAL_STORAGE_PATH=./data/storage
ATTACHMENTS_CONTAINER=attachments

# Azure Storage settings (when STORAGE_PROVIDER=azure)
# For Azurite dev: UseDevelopmentStorage=true
# For Azure prod: DefaultEndpointsProtocol=https;AccountName=...;AccountKey=...;EndpointSuffix=core.windows.net
AZURE_STORAGE_CONNECTION_STRING=UseDevelopmentStorage=true;

# OIDC/AAD placeholders (set when AAD is configured)
OIDC_ISSUER=
OIDC_CLIENT_ID=
OIDC_CLIENT_SECRET=
OIDC_REDIRECT_URI=http://localhost:8080/auth/callback
# Back-compat names (if used in code)
AAD_TENANT_ID=
AAD_CLIENT_ID=
AAD_REDIRECT_URI=http://localhost:8080/auth/callback

# Rate limiting
RATE_LIMIT_TTL=60
RATE_LIMIT_LIMIT=100

# Pricing guardrails
PRICING_MIN_MARGIN=0.1
